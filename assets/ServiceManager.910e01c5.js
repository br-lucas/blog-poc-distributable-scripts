import{i}from"./vendor.68906bd2.js";class r{constructor(){this.storedBlogs=i("blogs",[]),this.lastFetchedBlogs=0}delay(e){return new Promise((t,s)=>{setTimeout(()=>{t(e)},1500)})}getBlogs(){return this.lastFetchedBlogs!==0?Promise.resolve(this.storedBlogs.value):(this.lastFetchedBlogs=new Date().getTime(),this.delay(this.storedBlogs.value))}updateBlog(e,t){const s=this.storedBlogs.value,o=s.findIndex(l=>l.id===e);return s[o]=t,this.storedBlogs.value=s,this.delay(t)}async deleteBlog(e){const t=this.storedBlogs.value,s=t.findIndex(o=>o.id===e);t.splice(s,1),await this.delay(null)}createBlog(e){return this.storedBlogs.value.push(e),e.id=(Math.random()*1e7).toString(),e.thumbnail.length===0&&(e.thumbnail=""),this.delay(e)}}const a=new r,g=()=>a;export{g};
